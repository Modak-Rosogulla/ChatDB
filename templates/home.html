<!DOCTYPE html>
<html>
  <head>
    <title>Home Page</title>
    <link rel="stylesheet" href="{{ url_for('static', path='css/style.css') }}" />
  </head>
  <body>
    <div class="container">
      <div class="header">
        <h4>FastAPI with Google Oauth</h4>
        <div class="img-box">
          <img class="img" src="{{ url_for('static', path='icons/avatar.png') }}" />
        </div>
      </div>
      <a href="/firebase" class="google-btn">
        <span class="btn-text">Firebase</span>
      </a>
      
      <a href="/mysql" class="google-btn">
        <span class="btn-text">MySQL</span>
      </a>
      
      <a href="/mongodb" class="google-btn">
        <span class="btn-text">MongoDB</span>
      </a>
    </div>

    <h1>Upload CSV File</h1>
    <form id="uploadForm" action="/upload" method="post" enctype="multipart/form-data">
        <input type="file" name="file" accept=".csv" required>
        <button type="submit">Upload</button>
    </form>

    <script>
        document.getElementById('uploadForm').onsubmit = async (event) => {
            event.preventDefault();
            const formData = new FormData(event.target);

            const response = await fetch('/upload', {
                method: 'POST',
                body: formData
            });

            if (response.ok) {
                alert("File uploaded successfully!");
            } else {
                alert("Failed to upload the file.");
            }
        };
    </script>
  </body>
</html>
